[gd_scene load_steps=20 format=4 uid="uid://caojnjbhas8t5"]

[ext_resource type="Script" uid="uid://cv5npt2esismv" path="res://Scripts/MainMenu/NewRunButton.cs" id="1_853f1"]
[ext_resource type="Texture2D" uid="uid://cr5ashhughhcq" path="res://Sprites/rightarrow.png" id="1_a2d0p"]
[ext_resource type="Script" uid="uid://cv1eybuxvl2ai" path="res://Scripts/MainMenu/ContinueRunButton.cs" id="2_8saeu"]
[ext_resource type="PackedScene" uid="uid://dgthljd51vhi" path="res://Scenes/MainScenes/RunController.tscn" id="2_853f1"]
[ext_resource type="Script" uid="uid://dc4pna2d2bq36" path="res://Scripts/MainMenu/QuitButton.cs" id="4_358vw"]
[ext_resource type="TileSet" uid="uid://fgeau1gbnvdy" path="res://TileSets/MainTileSet.tres" id="6_wkd0y"]
[ext_resource type="Script" uid="uid://xyt6l40sa8ef" path="res://Scripts/MainMenu/MainMenuEnemySpawn.cs" id="7_2byc5"]
[ext_resource type="PackedScene" uid="uid://cxtrwlefpqdy7" path="res://Scenes/TilemapScenes/DefencePoint.tscn" id="8_2byc5"]
[ext_resource type="Script" uid="uid://dc61pm1c2pe7p" path="res://Scripts/Enemy/EnemySpawnData.cs" id="8_e7437"]
[ext_resource type="Resource" uid="uid://bv51a5tiokyfy" path="res://Custom Resources/Enemies/EarlyGame/BasicEnemy/BasicEnemySpawnData.tres" id="9_owi87"]
[ext_resource type="Resource" uid="uid://toj6ra8p0mv0" path="res://Custom Resources/Enemies/EarlyGame/FastEnemy/FastEnemySpawnData.tres" id="10_kya2h"]
[ext_resource type="Resource" uid="uid://dwm2npydja82i" path="res://Custom Resources/Enemies/EarlyGame/StrongEnemy/StrongEnemySpawnData.tres" id="11_48cs2"]
[ext_resource type="Resource" uid="uid://cl76w4sekrrvt" path="res://Custom Resources/Enemies/EarlyGame/SplitterlingEnemy/SplitterlingEnemySpawnData.tres" id="12_6ahw3"]
[ext_resource type="PackedScene" uid="uid://dwnfkc6e4143k" path="res://Scenes/Managers/PathfindingManager.tscn" id="13_owi87"]
[ext_resource type="Script" uid="uid://bnjyjycpgg45y" path="res://Scripts/MainMenu/ShowMainMenuTower.cs" id="14_kya2h"]
[ext_resource type="PackedScene" uid="uid://bigicen3r4de2" path="res://Scenes/MainMenuTowers/BasicTower1.tscn" id="15_36gss"]
[ext_resource type="PackedScene" uid="uid://p1s8brpp5m6b" path="res://Scenes/MainMenuTowers/DomainTower1.tscn" id="16_6ahw3"]
[ext_resource type="PackedScene" path="res://Scenes/MainMenuTowers/ShotgunTower1.tscn" id="17_caim4"]
[ext_resource type="Environment" uid="uid://b1ljot84mlnbf" path="res://MainEnvironment.tres" id="19_caim4"]

[node name="MainMenu" type="Node2D"]

[node name="UI" type="CanvasLayer" parent="."]

[node name="PanelContainer" type="PanelContainer" parent="UI"]
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 390.0
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="UI/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_right = 10

[node name="VBoxContainer" type="VBoxContainer" parent="UI/PanelContainer/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 25
alignment = 1

[node name="MainMenuText" type="RichTextLabel" parent="UI/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/normal_font_size = 100
text = "Main Menu"
fit_content = true
autowrap_mode = 0
horizontal_alignment = 1

[node name="NewRun" type="Button" parent="UI/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 50
text = "New Run"
icon = ExtResource("1_a2d0p")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true
script = ExtResource("1_853f1")
_runControllerScene = ExtResource("2_853f1")

[node name="ContinueRun" type="Button" parent="UI/PanelContainer/MarginContainer/VBoxContainer" node_paths=PackedStringArray("_newRunButton")]
layout_mode = 2
theme_override_font_sizes/font_size = 50
text = "Continue Run"
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true
script = ExtResource("2_8saeu")
_newRunButton = NodePath("../NewRun")
_rightArrow = ExtResource("1_a2d0p")
_runControllerScene = ExtResource("2_853f1")

[node name="QuitButton" type="Button" parent="UI/PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 50
text = "Quit Game"
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true
script = ExtResource("4_358vw")

[node name="GamePreview" type="TileMapLayer" parent="." groups=["Tilemap"]]
tile_map_data = PackedByteArray("AAAAAAAAAgADAAIAAAAAAAEAAgADAAIAAAABAAAAAgADAAIAAAABAAEAAgADAAIAAAACAAAAAgADAAIAAAACAAEAAgADAAIAAAADAAAAAgADAAIAAAAEAAAAAgADAAIAAAAFAAAAAgADAAIAAAAGAAAAAgADAAIAAAAHAAAAAgADAAIAAAAIAAAAAgADAAIAAAAJAAAAAgADAAIAAAAKAAAAAgADAAIAAAALAAAAAgADAAIAAAAMAAAAAgADAAIAAAANAAAAAgADAAIAAAAOAAAAAgADAAIAAAAPAAAAAgADAAIAAAAQAAAAAgADAAIAAAARAAAAAgADAAIAAAARAAEAAgACAAIAAAAAAAIAAgADAAIAAAAAAAMAAgADAAIAAAAAAAQAAgADAAIAAAAAAAUAAgADAAIAAAAAAAYAAgADAAIAAAAAAAcAAgADAAIAAAAAAAgAAgADAAIAAAAAAAkAAgADAAIAAAABAAIAAgADAAIAAAABAAMAAgADAAIAAAABAAQAAgADAAIAAAABAAUAAgADAAIAAAABAAYAAgADAAIAAAABAAcAAgADAAIAAAABAAgAAgADAAIAAAABAAkAAgADAAIAAAACAAIAAgADAAIAAAACAAMAAgADAAIAAAACAAQAAgADAAIAAAACAAUAAgADAAIAAAACAAYAAgADAAIAAAACAAcAAgADAAIAAAACAAgAAgADAAIAAAACAAkAAgADAAIAAAADAAgAAgADAAIAAAADAAkAAgADAAIAAAAEAAkAAgADAAIAAAADAAEAAgADAAIAAAADAAIAAgADAAIAAAADAAMAAgADAAIAAAADAAQAAgADAAIAAAADAAUAAgADAAIAAAADAAYAAgADAAIAAAADAAcAAgADAAIAAAAFAAEAAgADAAIAAAAGAAEAAgADAAIAAAAHAAEAAgADAAIAAAAIAAEAAgACAAIAAAAJAAEAAgACAAIAAAAKAAEAAgACAAIAAAALAAEAAgACAAIAAAAMAAEAAgACAAIAAAANAAEAAgACAAIAAAAOAAEAAgACAAIAAAAPAAEAAgACAAIAAAAQAAEAAgACAAIAAAAEAAEAAgADAAIAAAAEAAIAAgADAAIAAAAEAAMAAgADAAIAAAAEAAQAAgADAAIAAAAEAAUAAgADAAIAAAAEAAYAAgADAAIAAAAEAAcAAgADAAIAAAAEAAgAAgADAAIAAAAEAAoAAgADAAIAAAADAAoAAgADAAIAAAACAAoAAgADAAIAAAABAAoAAgADAAIAAAAAAAoAAgADAAIAAAAFAAoAAgADAAIAAAAGAAoAAgADAAIAAAAHAAoAAgADAAIAAAAIAAoAAgACAAIAAAAJAAoAAgACAAIAAAAKAAoAAgACAAIAAAALAAoAAgACAAIAAAAMAAoAAgACAAIAAAANAAoAAgACAAIAAAAOAAoAAgACAAIAAAAPAAoAAgACAAIAAAAQAAoAAgACAAIAAAARAAoAAgACAAIAAAASAAoAAgACAAIAAAATAAoAAgACAAIAAAATAAMAAgACAAIAAAATAAIAAgACAAIAAAATAAEAAgACAAIAAAATAAAAAgADAAIAAAASAAAAAgADAAIAAAASAAEAAgACAAIAAAASAAIAAgACAAIAAAASAAMAAgACAAIAAAAAAAsAAgADAAIAAAABAAsAAgADAAIAAAACAAsAAgADAAIAAAADAAsAAgADAAIAAAAEAAsAAgADAAIAAAAFAAsAAgADAAIAAAAGAAsAAgADAAIAAAAHAAsAAgADAAIAAAAIAAsAAgACAAIAAAAJAAsAAgACAAIAAAAKAAsAAgACAAIAAAALAAsAAgACAAIAAAAMAAsAAgACAAIAAAANAAsAAgACAAIAAAAOAAsAAgACAAIAAAATAAsAAgACAAIAAAASAAsAAgACAAIAAAARAAsAAgACAAIAAAAQAAsAAgACAAIAAAAPAAsAAgACAAIAAAAGAAIAAgADAAIAAAAGAAMAAgADAAIAAAAGAAQAAgADAAIAAAAGAAUAAgADAAIAAAAGAAYAAgADAAIAAAAGAAcAAgADAAIAAAAGAAgAAgADAAIAAAAGAAkAAgADAAIAAAAHAAIAAgADAAIAAAAHAAkAAgADAAIAAAAIAAIAAgACAAIAAAAIAAkAAgACAAIAAAAJAAIAAgACAAIAAAAKAAIAAgACAAIAAAALAAIAAgACAAIAAAAMAAIAAgACAAIAAAANAAIAAgACAAIAAAAOAAIAAgACAAIAAAAPAAIAAgACAAIAAAAQAAIAAgACAAIAAAARAAIAAgACAAIAAAAFAAIAAgADAAIAAAAFAAMAAgADAAIAAAAFAAQAAgADAAIAAAAFAAUAAgADAAIAAAAFAAYAAgADAAIAAAAFAAcAAgADAAIAAAAFAAgAAgADAAIAAAAFAAkAAgADAAIAAAD//wwAAgADAAIAAAD//wsAAgADAAIAAAD//woAAgADAAIAAAD//wkAAgADAAIAAAD//wgAAgADAAIAAAD//wcAAgADAAIAAAD//wYAAgADAAIAAAD//wUAAgADAAIAAAD//wQAAgADAAIAAAD//wMAAgADAAIAAAD//wIAAgADAAIAAAD//wEAAgADAAIAAAD//wAAAgADAAIAAAD/////AgADAAIAAAAAAP//AgADAAIAAAABAP//AgADAAIAAAACAP//AgADAAIAAAADAP//AgADAAIAAAAEAP//AgADAAIAAAAFAP//AgADAAIAAAAGAP//AgADAAIAAAAHAP//AgADAAIAAAAIAP//AgADAAIAAAAJAP//AgADAAIAAAAKAP//AgADAAIAAAALAP//AgADAAIAAAAMAP//AgADAAIAAAANAP//AgADAAIAAAAOAP//AgADAAIAAAAPAP//AgADAAIAAAAQAP//AgADAAIAAAARAP//AgADAAIAAAASAP//AgADAAIAAAATAP//AgADAAIAAAAUAP//AgADAAIAAAAUAAAAAgADAAIAAAAUAAEAAgACAAIAAAAUAAIAAgACAAIAAAAUAAMAAgACAAIAAAAUAAoAAgACAAIAAAAUAAsAAgACAAIAAAAUAAwAAgACAAIAAAATAAwAAgACAAIAAAASAAwAAgACAAIAAAARAAwAAgACAAIAAAAQAAwAAgACAAIAAAAPAAwAAgACAAIAAAAOAAwAAgACAAIAAAANAAwAAgACAAIAAAAMAAwAAgACAAIAAAALAAwAAgACAAIAAAAKAAwAAgACAAIAAAAJAAwAAgACAAIAAAAIAAwAAgACAAIAAAAHAAwAAgADAAIAAAAGAAwAAgADAAIAAAAFAAwAAgADAAIAAAAEAAwAAgADAAIAAAADAAwAAgADAAIAAAACAAwAAgADAAIAAAABAAwAAgADAAIAAAAAAAwAAgADAAIAAAD//w0AAgADAAIAAAD//w4AAgADAAIAAAAAAA0AAgADAAIAAAAAAA4AAgADAAIAAAABAA0AAgADAAIAAAABAA4AAgADAAIAAAACAA0AAgADAAIAAAACAA4AAgADAAIAAAADAA0AAgADAAIAAAADAA4AAgADAAIAAAAEAA0AAgADAAIAAAAEAA4AAgADAAIAAAAFAA0AAgADAAIAAAAFAA4AAgADAAIAAAAGAA0AAgADAAIAAAAGAA4AAgADAAIAAAAHAA0AAgADAAIAAAAHAA4AAgADAAIAAAAIAA0AAgADAAIAAAAIAA4AAgADAAIAAAAJAA0AAgADAAIAAAAJAA4AAgADAAIAAAAKAA0AAgADAAIAAAAKAA4AAgADAAIAAAALAA0AAgADAAIAAAALAA4AAgADAAIAAAAMAA0AAgADAAIAAAAMAA4AAgADAAIAAAANAA0AAgADAAIAAAANAA4AAgADAAIAAAAOAA0AAgADAAIAAAAOAA4AAgADAAIAAAAPAA0AAgADAAIAAAAPAA4AAgADAAIAAAAQAA0AAgADAAIAAAAQAA4AAgADAAIAAAARAA0AAgADAAIAAAARAA4AAgADAAIAAAASAA0AAgADAAIAAAASAA4AAgADAAIAAAATAA0AAgADAAIAAAATAA4AAgADAAIAAAAUAA0AAgADAAIAAAAUAA4AAgADAAIAAAAVAA0AAgADAAIAAAAVAA4AAgADAAIAAAAWAA0AAgADAAIAAAAWAA4AAgADAAIAAAAXAA0AAgADAAIAAAAXAA4AAgADAAIAAAD//w8AAgADAAIAAAAAAA8AAgADAAIAAAABAA8AAgADAAIAAAACAA8AAgADAAIAAAADAA8AAgADAAIAAAAEAA8AAgADAAIAAAAFAA8AAgADAAIAAAAGAA8AAgADAAIAAAAHAA8AAgADAAIAAAAIAA8AAgADAAIAAAAJAA8AAgADAAIAAAAKAA8AAgADAAIAAAALAA8AAgADAAIAAAAMAA8AAgADAAIAAAANAA8AAgADAAIAAAAOAA8AAgADAAIAAAAPAA8AAgADAAIAAAAQAA8AAgADAAIAAAARAA8AAgADAAIAAAASAA8AAgADAAIAAAATAA8AAgADAAIAAAAUAA8AAgADAAIAAAAVAA8AAgADAAIAAAAWAA8AAgADAAIAAAAXAA8AAgADAAIAAAAYAA8AAgADAAIAAAAZAA8AAgADAAIAAAAVAP//AgADAAIAAAAVAAAAAgADAAIAAAAVAAEAAgACAAIAAAAVAAIAAgACAAIAAAAVAAMAAgACAAIAAAAVAAQAAgACAAIAAAAVAAUAAgACAAIAAAAVAAYAAgACAAIAAAAVAAcAAgACAAIAAAAVAAgAAgACAAIAAAAVAAkAAgADAAEAAAAVAAoAAgACAAIAAAAVAAsAAgACAAIAAAAVAAwAAgACAAIAAAAWAP//AgADAAIAAAAWAAAAAgADAAIAAAAWAAEAAgACAAIAAAAWAAIAAgACAAIAAAAWAAMAAgACAAIAAAAWAAQAAgACAAIAAAAWAAUAAgACAAIAAAAWAAYAAgACAAIAAAAWAAcAAgACAAIAAAAWAAgAAgACAAIAAAAWAAkAAgACAAIAAAAWAAoAAgACAAIAAAAWAAsAAgACAAIAAAAWAAwAAgACAAIAAAAXAP//AgADAAIAAAAXAAAAAgADAAIAAAAXAAEAAgACAAIAAAAXAAIAAgACAAIAAAAXAAMAAgACAAIAAAAXAAQAAgACAAIAAAAXAAUAAgACAAIAAAAXAAYAAgACAAIAAAAXAAcAAgACAAIAAAAXAAgAAgACAAIAAAAXAAkAAgACAAIAAAAXAAoAAgACAAIAAAAXAAsAAgACAAIAAAAXAAwAAgACAAIAAAAYAP//AgADAAIAAAAYAAAAAgADAAIAAAAYAAEAAgADAAIAAAAYAAIAAgADAAIAAAAYAAMAAgADAAIAAAAYAAQAAgADAAIAAAAYAAUAAgADAAIAAAAYAAYAAgADAAIAAAAYAAcAAgADAAIAAAAYAAgAAgADAAIAAAAYAAkAAgADAAIAAAAYAAoAAgADAAIAAAAYAAsAAgADAAIAAAAYAAwAAgADAAIAAAAYAA0AAgADAAIAAAAYAA4AAgADAAIAAAAZAP//AgADAAIAAAAZAAAAAgADAAIAAAAZAAEAAgADAAIAAAAZAAIAAgADAAIAAAAZAAMAAgADAAIAAAAZAAQAAgADAAIAAAAZAAUAAgADAAIAAAAZAAYAAgADAAIAAAAZAAcAAgADAAIAAAAZAAgAAgADAAIAAAAZAAkAAgADAAIAAAAZAAoAAgADAAIAAAAZAAsAAgADAAIAAAAZAAwAAgADAAIAAAAZAA0AAgADAAIAAAAZAA4AAgADAAIAAAAHAAgAAgADAAIAAAAHAAcAAgADAAIAAAAIAAcAAgACAAIAAAAIAAgAAgACAAIAAAAIAAYAAgACAAIAAAAHAAYAAgADAAIAAAAHAAUAAgADAAIAAAAHAAQAAgADAAIAAAAIAAMAAgACAAIAAAAIAAQAAgACAAIAAAAIAAUAAgACAAIAAAAHAAMAAgADAAIAAAAJAAMAAgACAAIAAAALAAMAAgACAAIAAAAMAAMAAgACAAIAAAANAAMAAgACAAIAAAAOAAMAAgACAAIAAAAPAAMAAgACAAIAAAAQAAMAAgACAAIAAAARAAMAAgACAAIAAAAKAAMAAgACAAIAAAAKAAUAAgABAAAAAAAKAAYAAgABAAAAAAAKAAcAAgABAAAAAAAKAAgAAgABAAAAAAAKAAkAAgAAAAEAAAALAAQAAgACAAIAAAALAAUAAgACAAIAAAALAAYAAgACAAIAAAALAAcAAgACAAIAAAALAAgAAgACAAIAAAALAAkAAgAAAAAAAAAMAAQAAgADAAAAAAAMAAUAAgABAAAAAAAMAAYAAgABAAAAAAAMAAcAAgAAAAEAAAAMAAgAAgACAAIAAAAMAAkAAgAAAAAAAAANAAQAAgAAAAAAAAANAAUAAgACAAIAAAANAAYAAgACAAIAAAANAAcAAgAAAAAAAAANAAgAAgACAAIAAAANAAkAAgAAAAAAAAAOAAQAAgAAAAAAAAAOAAUAAgACAAIAAAAOAAYAAgACAAIAAAAOAAcAAgACAAAAAAAOAAgAAgABAAAAAAAOAAkAAgABAAEAAAAPAAQAAgAAAAAAAAAPAAUAAgACAAIAAAAPAAYAAgACAAIAAAAPAAcAAgACAAIAAAAPAAgAAgACAAIAAAAPAAkAAgACAAIAAAAQAAQAAgAAAAAAAAAQAAUAAgACAAIAAAAQAAYAAgACAAIAAAAQAAcAAgACAAIAAAAQAAgAAgACAAIAAAAQAAkAAgACAAIAAAARAAQAAgAAAAAAAAARAAUAAgACAAIAAAARAAYAAgACAAIAAAARAAcAAgADAAAAAAARAAgAAgABAAAAAAARAAkAAgAAAAEAAAASAAQAAgAAAAAAAAASAAUAAgACAAIAAAASAAYAAgADAAAAAAASAAcAAgABAAEAAAASAAgAAgACAAIAAAASAAkAAgAAAAAAAAATAAQAAgACAAAAAAATAAUAAgABAAAAAAATAAYAAgABAAEAAAATAAcAAgACAAIAAAATAAgAAgACAAIAAAATAAkAAgAAAAAAAAAUAAQAAgACAAIAAAAUAAUAAgACAAIAAAAUAAYAAgACAAIAAAAUAAcAAgACAAIAAAAUAAgAAgACAAIAAAAUAAkAAgAAAAAAAAAJAAkAAgACAAIAAAAJAAgAAgACAAIAAAAJAAcAAgACAAIAAAAJAAYAAgACAAIAAAAJAAUAAgACAAIAAAAJAAQAAgACAAIAAAAKAAQAAgAAAAIAAAA=")
tile_set = ExtResource("6_wkd0y")

[node name="Enemy Spawn" type="Marker2D" parent="GamePreview" node_paths=PackedStringArray("_enemyParent")]
position = Vector2(168, 73)
script = ExtResource("7_2byc5")
EnemiesToSpawnData = Array[ExtResource("8_e7437")]([ExtResource("9_owi87"), ExtResource("10_kya2h"), ExtResource("11_48cs2"), ExtResource("12_6ahw3")])
_enemyParent = NodePath("../../PreviewEnemies")

[node name="Enemy Goal" type="Marker2D" parent="GamePreview"]
position = Vector2(344, 152)

[node name="Base" parent="GamePreview" instance=ExtResource("8_2byc5")]
position = Vector2(344, 152)

[node name="Managers" type="Node" parent="."]

[node name="PathfindingManager" parent="Managers" instance=ExtResource("13_owi87")]

[node name="PreviewTower" type="Node2D" parent="."]
script = ExtResource("14_kya2h")
towers = Array[PackedScene]([ExtResource("15_36gss"), ExtResource("16_6ahw3"), ExtResource("17_caim4")])

[node name="PreviewEnemies" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(197, 112)
zoom = Vector2(3.2, 3.2)
process_callback = 0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("19_caim4")

[connection signal="pressed" from="UI/PanelContainer/MarginContainer/VBoxContainer/NewRun" to="UI/PanelContainer/MarginContainer/VBoxContainer/NewRun" method="OnPressed"]
[connection signal="pressed" from="UI/PanelContainer/MarginContainer/VBoxContainer/ContinueRun" to="UI/PanelContainer/MarginContainer/VBoxContainer/ContinueRun" method="OnPressed"]
[connection signal="pressed" from="UI/PanelContainer/MarginContainer/VBoxContainer/QuitButton" to="UI/PanelContainer/MarginContainer/VBoxContainer/QuitButton" method="OnPressed"]
